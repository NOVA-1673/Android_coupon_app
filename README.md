📘 NFCoupon 앱 기획서 (MVP)
## 1. 프로젝트 개요 (왜 만드는가)

  앱 이름
  
    NFCoupon
  
  목표
  
    소규모 개인 카페에서
    👉 종이 쿠폰을 대체하는 NFC 기반 스탬프 쿠폰 시스템 제공
  
  기획 의도
  
    종이 쿠폰의 분실 / 위조 / 관리 불편 문제 해결
    
    복잡한 회원가입 없이 빠른 적립 & 교환
    
    사장/손님 역할 분리로 운영 단순화

## 2. 타겟 사용자

  🎯 손님(User)
  
    스마트폰을 가진 일반 고객
    
    쿠폰 적립 현황 확인
    
    NFC 태그로 스탬프 적립 / 무료 음료 교환
  
  🎯 카페 사장(Owner)
  
    매장 운영자
    
    손님의 NFC 태그를 스캔하여
    
    스탬프 적립
    
    교환 처리


##  3. 핵심 기능 정의 (MVP 기준)
  ✅ 반드시 되는 기능
  공통
  
    역할 선택 화면 (손님 / 사장)
  
  손님 화면
  
    현재 스탬프 개수 표시 (0 ~ 10)
    
    NFC 태그 대기 상태 표시
    
    스탬프 10개 달성 시 “무료 음료 교환” 가능
  
  사장 화면
  
    NFC 스캔 대기 화면
    
    손님 스캔 시:
    
    스탬프 +1
    
    또는 교환 처리 (10개 차감)


### 기술 스택
    Android
    
    Kotlin
    
    Jetpack Compose
    
    Material3
    
아키텍처
    
    Single Activity
    
    Navigation Compose
    
    UI ↔ ViewModel 분리
    
    상태 기반 UI(State-driven UI)
    
    NFC
    
    Android NFC API
    
    onNewIntent() 기반 이벤트 처리

nfc 사용 흐름

  사용자->손님 화면 진입
  사장님->사장 화면 진십
  NFC 태그 접촉
  사장앱에서 스탬프 +1 처리
  손님 화면에 즉각 반영

  태그 시간 정의

두 기기가 NFC 전자기장 범위 내에 있고
요청–응답 통신이 가능한 물리적 접촉 시간

평균: 0.5 ~ 1초

설계 목표: 1초 이내 모든 로직 완료

📌 태그 유지 = 트랜잭션 유지


데이터 처리 정책
✔ 태그 중에 수행하는 작업 (Critical Path)

NFC 요청 파싱

중복 태그 방지 체크

쿠폰 +1 계산

응답 데이터 생성 및 송신


6️⃣ 데이터 저장 전략 (Serverless)
데이터	저장 위치
쿠폰 수	손님 앱 로컬 저장
승인 로직	사장 앱
NFC 트랜잭션	태그 중 일시적

📌 서버 없음
📌 태그 종료 후 데이터는 각 앱 로컬에 확정 저장
    
